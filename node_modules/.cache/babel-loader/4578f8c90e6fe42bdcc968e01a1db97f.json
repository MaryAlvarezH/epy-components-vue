{"remainingRequest":"/home/mary/Desktop/web components/vue-test/vue-button/node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!/home/mary/Desktop/web components/vue-test/vue-button/node_modules/eslint-loader/index.js??ref--13-0!/home/mary/Desktop/web components/vue-test/vue-button/dist/esm-es5/css-shim-6aaf713d-9b13816a.js","dependencies":[{"path":"/home/mary/Desktop/web components/vue-test/vue-button/dist/esm-es5/css-shim-6aaf713d-9b13816a.js","mtime":1579718280574},{"path":"/home/mary/Desktop/web components/vue-test/vue-button/node_modules/cache-loader/dist/cjs.js","mtime":1574719794050},{"path":"/home/mary/Desktop/web components/vue-test/vue-button/node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js","mtime":1574719794019},{"path":"/home/mary/Desktop/web components/vue-test/vue-button/node_modules/eslint-loader/index.js","mtime":1576012030759}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:LyoKRXh0cmVtZWx5IHNpbXBsZSBjc3MgcGFyc2VyLiBJbnRlbmRlZCB0byBiZSBub3QgbW9yZSB0aGFuIHdoYXQgd2UgbmVlZAphbmQgZGVmaW5pdGVseSBub3QgbmVjZXNzYXJpbHkgY29ycmVjdCA9KS4KKi8KCi8qKiBAdW5yZXN0cmljdGVkICovCnZhciBTdHlsZU5vZGUgPQovKiogQGNsYXNzICovCmZ1bmN0aW9uICgpIHsKICBmdW5jdGlvbiBTdHlsZU5vZGUoKSB7CiAgICB0aGlzLnN0YXJ0ID0gMDsKICAgIHRoaXMuZW5kID0gMDsKICAgIHRoaXMucHJldmlvdXMgPSBudWxsOwogICAgdGhpcy5wYXJlbnQgPSBudWxsOwogICAgdGhpcy5ydWxlcyA9IG51bGw7CiAgICB0aGlzLnBhcnNlZENzc1RleHQgPSAnJzsKICAgIHRoaXMuY3NzVGV4dCA9ICcnOwogICAgdGhpcy5hdFJ1bGUgPSBmYWxzZTsKICAgIHRoaXMudHlwZSA9IDA7CiAgICB0aGlzLmtleWZyYW1lc05hbWUgPSAnJzsKICAgIHRoaXMuc2VsZWN0b3IgPSAnJzsKICAgIHRoaXMucGFyc2VkU2VsZWN0b3IgPSAnJzsKICB9CgogIHJldHVybiBTdHlsZU5vZGU7Cn0oKTsgLy8gZ2l2ZW4gYSBzdHJpbmcgb2YgY3NzLCByZXR1cm4gYSBzaW1wbGUgcnVsZSB0cmVlCgovKioKICogQHBhcmFtIHtzdHJpbmd9IHRleHQKICogQHJldHVybiB7U3R5bGVOb2RlfQogKi8KCgpmdW5jdGlvbiBwYXJzZSh0ZXh0KSB7CiAgdGV4dCA9IGNsZWFuKHRleHQpOwogIHJldHVybiBwYXJzZUNzcyhsZXgodGV4dCksIHRleHQpOwp9IC8vIHJlbW92ZSBzdHVmZiB3ZSBkb24ndCBjYXJlIGFib3V0IHRoYXQgbWF5IGhpbmRlciBwYXJzaW5nCgovKioKICogQHBhcmFtIHtzdHJpbmd9IGNzc1RleHQKICogQHJldHVybiB7c3RyaW5nfQogKi8KCgpmdW5jdGlvbiBjbGVhbihjc3NUZXh0KSB7CiAgcmV0dXJuIGNzc1RleHQucmVwbGFjZShSWC5jb21tZW50cywgJycpLnJlcGxhY2UoUlgucG9ydCwgJycpOwp9IC8vIHN1cGVyIHNpbXBsZSB7Li4ufSBsZXhlciB0aGF0IHJldHVybnMgYSBub2RlIHRyZWUKCi8qKgogKiBAcGFyYW0ge3N0cmluZ30gdGV4dAogKiBAcmV0dXJuIHtTdHlsZU5vZGV9CiAqLwoKCmZ1bmN0aW9uIGxleCh0ZXh0KSB7CiAgdmFyIHJvb3QgPSBuZXcgU3R5bGVOb2RlKCk7CiAgcm9vdFsnc3RhcnQnXSA9IDA7CiAgcm9vdFsnZW5kJ10gPSB0ZXh0Lmxlbmd0aDsKICB2YXIgbiA9IHJvb3Q7CgogIGZvciAodmFyIGkgPSAwLCBsID0gdGV4dC5sZW5ndGg7IGkgPCBsOyBpKyspIHsKICAgIGlmICh0ZXh0W2ldID09PSBPUEVOX0JSQUNFKSB7CiAgICAgIGlmICghblsncnVsZXMnXSkgewogICAgICAgIG5bJ3J1bGVzJ10gPSBbXTsKICAgICAgfQoKICAgICAgdmFyIHAgPSBuOwogICAgICB2YXIgcHJldmlvdXMgPSBwWydydWxlcyddW3BbJ3J1bGVzJ10ubGVuZ3RoIC0gMV0gfHwgbnVsbDsKICAgICAgbiA9IG5ldyBTdHlsZU5vZGUoKTsKICAgICAgblsnc3RhcnQnXSA9IGkgKyAxOwogICAgICBuWydwYXJlbnQnXSA9IHA7CiAgICAgIG5bJ3ByZXZpb3VzJ10gPSBwcmV2aW91czsKICAgICAgcFsncnVsZXMnXS5wdXNoKG4pOwogICAgfSBlbHNlIGlmICh0ZXh0W2ldID09PSBDTE9TRV9CUkFDRSkgewogICAgICBuWydlbmQnXSA9IGkgKyAxOwogICAgICBuID0gblsncGFyZW50J10gfHwgcm9vdDsKICAgIH0KICB9CgogIHJldHVybiByb290Owp9IC8vIGFkZCBzZWxlY3RvcnMvY3NzVGV4dCB0byBub2RlIHRyZWUKCi8qKgogKiBAcGFyYW0ge1N0eWxlTm9kZX0gbm9kZQogKiBAcGFyYW0ge3N0cmluZ30gdGV4dAogKiBAcmV0dXJuIHtTdHlsZU5vZGV9CiAqLwoKCmZ1bmN0aW9uIHBhcnNlQ3NzKG5vZGUsIHRleHQpIHsKICB2YXIgdCA9IHRleHQuc3Vic3RyaW5nKG5vZGVbJ3N0YXJ0J10sIG5vZGVbJ2VuZCddIC0gMSk7CiAgbm9kZVsncGFyc2VkQ3NzVGV4dCddID0gbm9kZVsnY3NzVGV4dCddID0gdC50cmltKCk7CgogIGlmIChub2RlLnBhcmVudCkgewogICAgdmFyIHNzID0gbm9kZS5wcmV2aW91cyA/IG5vZGUucHJldmlvdXNbJ2VuZCddIDogbm9kZS5wYXJlbnRbJ3N0YXJ0J107CiAgICB0ID0gdGV4dC5zdWJzdHJpbmcoc3MsIG5vZGVbJ3N0YXJ0J10gLSAxKTsKICAgIHQgPSBfZXhwYW5kVW5pY29kZUVzY2FwZXModCk7CiAgICB0ID0gdC5yZXBsYWNlKFJYLm11bHRpcGxlU3BhY2VzLCAnICcpOyAvLyBUT0RPKHNvcnZlbGwpOiBhZCBob2M7IG1ha2Ugc2VsZWN0b3IgaW5jbHVkZSBvbmx5IGFmdGVyIGxhc3QgOwogICAgLy8gaGVscHMgd2l0aCBtaXhpbiBzeW50YXgKCiAgICB0ID0gdC5zdWJzdHJpbmcodC5sYXN0SW5kZXhPZignOycpICsgMSk7CiAgICB2YXIgcyA9IG5vZGVbJ3BhcnNlZFNlbGVjdG9yJ10gPSBub2RlWydzZWxlY3RvciddID0gdC50cmltKCk7CiAgICBub2RlWydhdFJ1bGUnXSA9IHMuaW5kZXhPZihBVF9TVEFSVCkgPT09IDA7IC8vIG5vdGUsIHN1cHBvcnQgYSBzdWJzZXQgb2YgcnVsZSB0eXBlcy4uLgoKICAgIGlmIChub2RlWydhdFJ1bGUnXSkgewogICAgICBpZiAocy5pbmRleE9mKE1FRElBX1NUQVJUKSA9PT0gMCkgewogICAgICAgIG5vZGVbJ3R5cGUnXSA9IHR5cGVzLk1FRElBX1JVTEU7CiAgICAgIH0gZWxzZSBpZiAocy5tYXRjaChSWC5rZXlmcmFtZXNSdWxlKSkgewogICAgICAgIG5vZGVbJ3R5cGUnXSA9IHR5cGVzLktFWUZSQU1FU19SVUxFOwogICAgICAgIG5vZGVbJ2tleWZyYW1lc05hbWUnXSA9IG5vZGVbJ3NlbGVjdG9yJ10uc3BsaXQoUlgubXVsdGlwbGVTcGFjZXMpLnBvcCgpOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICBpZiAocy5pbmRleE9mKFZBUl9TVEFSVCkgPT09IDApIHsKICAgICAgICBub2RlWyd0eXBlJ10gPSB0eXBlcy5NSVhJTl9SVUxFOwogICAgICB9IGVsc2UgewogICAgICAgIG5vZGVbJ3R5cGUnXSA9IHR5cGVzLlNUWUxFX1JVTEU7CiAgICAgIH0KICAgIH0KICB9CgogIHZhciByJCA9IG5vZGVbJ3J1bGVzJ107CgogIGlmIChyJCkgewogICAgZm9yICh2YXIgaSA9IDAsIGwgPSByJC5sZW5ndGgsIHIgPSB2b2lkIDA7IGkgPCBsICYmIChyID0gciRbaV0pOyBpKyspIHsKICAgICAgcGFyc2VDc3MociwgdGV4dCk7CiAgICB9CiAgfQoKICByZXR1cm4gbm9kZTsKfQovKioKICogY29udmVyc2lvbiBvZiBzb3J0IHVuaWNvZGUgZXNjYXBlcyB3aXRoIHNwYWNlcyBsaWtlIGBcMzMgYCAoYW5kIGxvbmdlcikgaW50bwogKiBleHBhbmRlZCBmb3JtIHRoYXQgZG9lc24ndCByZXF1aXJlIHRyYWlsaW5nIHNwYWNlIGBcMDAwMDMzYAogKiBAcGFyYW0ge3N0cmluZ30gcwogKiBAcmV0dXJuIHtzdHJpbmd9CiAqLwoKCmZ1bmN0aW9uIF9leHBhbmRVbmljb2RlRXNjYXBlcyhzKSB7CiAgcmV0dXJuIHMucmVwbGFjZSgvXFwoWzAtOWEtZl17MSw2fSlccy9naSwgZnVuY3Rpb24gKCkgewogICAgdmFyIGNvZGUgPSBhcmd1bWVudHNbMV0sCiAgICAgICAgcmVwZWF0ID0gNiAtIGNvZGUubGVuZ3RoOwoKICAgIHdoaWxlIChyZXBlYXQtLSkgewogICAgICBjb2RlID0gJzAnICsgY29kZTsKICAgIH0KCiAgICByZXR1cm4gJ1xcJyArIGNvZGU7CiAgfSk7Cn0KLyoqIEBlbnVtIHtudW1iZXJ9ICovCgoKdmFyIHR5cGVzID0gewogIFNUWUxFX1JVTEU6IDEsCiAgS0VZRlJBTUVTX1JVTEU6IDcsCiAgTUVESUFfUlVMRTogNCwKICBNSVhJTl9SVUxFOiAxMDAwCn07CnZhciBPUEVOX0JSQUNFID0gJ3snOwp2YXIgQ0xPU0VfQlJBQ0UgPSAnfSc7IC8vIGhlbHBlciByZWdleHAncwoKdmFyIFJYID0gewogIGNvbW1lbnRzOiAvXC9cKlteKl0qXCorKFteLypdW14qXSpcKispKlwvL2dpbSwKICBwb3J0OiAvQGltcG9ydFteO10qOy9naW0sCiAgY3VzdG9tUHJvcDogLyg/Ol5bXjtcLVxzfV0rKT8tLVteO3t9XSo/Oltee307XSo/KD86Wztcbl18JCkvZ2ltLAogIG1peGluUHJvcDogLyg/Ol5bXjtcLVxzfV0rKT8tLVteO3t9XSo/Oltee307XSo/e1tefV0qP30oPzpbO1xuXXwkKT8vZ2ltLAogIG1peGluQXBwbHk6IC9AYXBwbHlccypcKD9bXik7XSpcKT9ccyooPzpbO1xuXXwkKT8vZ2ltLAogIHZhckFwcGx5OiAvW147Ol0qPzpbXjtdKj92YXJcKFteO10qXCkoPzpbO1xuXXwkKT8vZ2ltLAogIGtleWZyYW1lc1J1bGU6IC9eQFteXHNdKmtleWZyYW1lcy8sCiAgbXVsdGlwbGVTcGFjZXM6IC9ccysvZwp9Owp2YXIgVkFSX1NUQVJUID0gJy0tJzsKdmFyIE1FRElBX1NUQVJUID0gJ0BtZWRpYSc7CnZhciBBVF9TVEFSVCA9ICdAJzsKCmZ1bmN0aW9uIGZpbmRSZWdleChyZWdleCwgY3NzVGV4dCwgb2Zmc2V0KSB7CiAgcmVnZXhbJ2xhc3RJbmRleCddID0gMDsKICB2YXIgciA9IGNzc1RleHQuc3Vic3RyaW5nKG9mZnNldCkubWF0Y2gocmVnZXgpOwoKICBpZiAocikgewogICAgdmFyIHN0YXJ0ID0gb2Zmc2V0ICsgclsnaW5kZXgnXTsKICAgIHJldHVybiB7CiAgICAgIHN0YXJ0OiBzdGFydCwKICAgICAgZW5kOiBzdGFydCArIHJbMF0ubGVuZ3RoCiAgICB9OwogIH0KCiAgcmV0dXJuIG51bGw7Cn0KCnZhciBWQVJfVVNBR0VfU1RBUlQgPSAvXGJ2YXJcKC87CnZhciBWQVJfQVNTSUdOX1NUQVJUID0gL1xCLS1bXHctXStccyo6LzsKdmFyIENPTU1FTlRTID0gL1wvXCpbXipdKlwqKyhbXi8qXVteKl0qXCorKSpcLy9naW07CnZhciBUUkFJTElOR19MSU5FUyA9IC9eW1x0IF0rXG4vZ207CgpmdW5jdGlvbiByZXNvbHZlVmFyKHByb3BzLCBwcm9wLCBmYWxsYmFjaykgewogIGlmIChwcm9wc1twcm9wXSkgewogICAgcmV0dXJuIHByb3BzW3Byb3BdOwogIH0KCiAgaWYgKGZhbGxiYWNrKSB7CiAgICByZXR1cm4gZXhlY3V0ZVRlbXBsYXRlKGZhbGxiYWNrLCBwcm9wcyk7CiAgfQoKICByZXR1cm4gJyc7Cn0KCmZ1bmN0aW9uIGZpbmRWYXJFbmRJbmRleChjc3NUZXh0LCBvZmZzZXQpIHsKICB2YXIgY291bnQgPSAwOwogIHZhciBpID0gb2Zmc2V0OwoKICBmb3IgKDsgaSA8IGNzc1RleHQubGVuZ3RoOyBpKyspIHsKICAgIHZhciBjID0gY3NzVGV4dFtpXTsKCiAgICBpZiAoYyA9PT0gJygnKSB7CiAgICAgIGNvdW50Kys7CiAgICB9IGVsc2UgaWYgKGMgPT09ICcpJykgewogICAgICBjb3VudC0tOwoKICAgICAgaWYgKGNvdW50IDw9IDApIHsKICAgICAgICByZXR1cm4gaSArIDE7CiAgICAgIH0KICAgIH0KICB9CgogIHJldHVybiBpOwp9CgpmdW5jdGlvbiBwYXJzZVZhcihjc3NUZXh0LCBvZmZzZXQpIHsKICB2YXIgdmFyUG9zID0gZmluZFJlZ2V4KFZBUl9VU0FHRV9TVEFSVCwgY3NzVGV4dCwgb2Zmc2V0KTsKCiAgaWYgKCF2YXJQb3MpIHsKICAgIHJldHVybiBudWxsOwogIH0KCiAgdmFyIGVuZFZhciA9IGZpbmRWYXJFbmRJbmRleChjc3NUZXh0LCB2YXJQb3Muc3RhcnQpOwogIHZhciB2YXJDb250ZW50ID0gY3NzVGV4dC5zdWJzdHJpbmcodmFyUG9zLmVuZCwgZW5kVmFyIC0gMSk7CgogIHZhciBfYSA9IHZhckNvbnRlbnQuc3BsaXQoJywnKSwKICAgICAgcHJvcE5hbWUgPSBfYVswXSwKICAgICAgZmFsbGJhY2sgPSBfYS5zbGljZSgxKTsKCiAgcmV0dXJuIHsKICAgIHN0YXJ0OiB2YXJQb3Muc3RhcnQsCiAgICBlbmQ6IGVuZFZhciwKICAgIHByb3BOYW1lOiBwcm9wTmFtZS50cmltKCksCiAgICBmYWxsYmFjazogZmFsbGJhY2subGVuZ3RoID4gMCA/IGZhbGxiYWNrLmpvaW4oJywnKS50cmltKCkgOiB1bmRlZmluZWQKICB9Owp9CgpmdW5jdGlvbiBjb21waWxlVmFyKGNzc1RleHQsIHRlbXBsYXRlLCBvZmZzZXQpIHsKICB2YXIgdmFyTWV0YSA9IHBhcnNlVmFyKGNzc1RleHQsIG9mZnNldCk7CgogIGlmICghdmFyTWV0YSkgewogICAgdGVtcGxhdGUucHVzaChjc3NUZXh0LnN1YnN0cmluZyhvZmZzZXQsIGNzc1RleHQubGVuZ3RoKSk7CiAgICByZXR1cm4gY3NzVGV4dC5sZW5ndGg7CiAgfQoKICB2YXIgcHJvcE5hbWUgPSB2YXJNZXRhLnByb3BOYW1lOwogIHZhciBmYWxsYmFjayA9IHZhck1ldGEuZmFsbGJhY2sgIT0gbnVsbCA/IGNvbXBpbGVUZW1wbGF0ZSh2YXJNZXRhLmZhbGxiYWNrKSA6IHVuZGVmaW5lZDsKICB0ZW1wbGF0ZS5wdXNoKGNzc1RleHQuc3Vic3RyaW5nKG9mZnNldCwgdmFyTWV0YS5zdGFydCksIGZ1bmN0aW9uIChwYXJhbXMpIHsKICAgIHJldHVybiByZXNvbHZlVmFyKHBhcmFtcywgcHJvcE5hbWUsIGZhbGxiYWNrKTsKICB9KTsKICByZXR1cm4gdmFyTWV0YS5lbmQ7Cn0KCmZ1bmN0aW9uIGV4ZWN1dGVUZW1wbGF0ZSh0ZW1wbGF0ZSwgcHJvcHMpIHsKICB2YXIgZmluYWwgPSAnJzsKCiAgZm9yICh2YXIgaSA9IDA7IGkgPCB0ZW1wbGF0ZS5sZW5ndGg7IGkrKykgewogICAgdmFyIHMgPSB0ZW1wbGF0ZVtpXTsKICAgIGZpbmFsICs9IHR5cGVvZiBzID09PSAnc3RyaW5nJyA/IHMgOiBzKHByb3BzKTsKICB9CgogIHJldHVybiBmaW5hbDsKfQoKZnVuY3Rpb24gZmluZEVuZFZhbHVlKGNzc1RleHQsIG9mZnNldCkgewogIHZhciBvblN0ciA9IGZhbHNlOwogIHZhciBkb3VibGUgPSBmYWxzZTsKICB2YXIgaSA9IG9mZnNldDsKCiAgZm9yICg7IGkgPCBjc3NUZXh0Lmxlbmd0aDsgaSsrKSB7CiAgICB2YXIgYyA9IGNzc1RleHRbaV07CgogICAgaWYgKG9uU3RyKSB7CiAgICAgIGlmIChkb3VibGUgJiYgYyA9PT0gJyInKSB7CiAgICAgICAgb25TdHIgPSBmYWxzZTsKICAgICAgfQoKICAgICAgaWYgKCFkb3VibGUgJiYgYyA9PT0gJ1wnJykgewogICAgICAgIG9uU3RyID0gZmFsc2U7CiAgICAgIH0KICAgIH0gZWxzZSB7CiAgICAgIGlmIChjID09PSAnIicpIHsKICAgICAgICBvblN0ciA9IHRydWU7CiAgICAgICAgZG91YmxlID0gdHJ1ZTsKICAgICAgfSBlbHNlIGlmIChjID09PSAnXCcnKSB7CiAgICAgICAgb25TdHIgPSB0cnVlOwogICAgICAgIGRvdWJsZSA9IGZhbHNlOwogICAgICB9IGVsc2UgaWYgKGMgPT09ICc7JykgewogICAgICAgIHJldHVybiBpICsgMTsKICAgICAgfSBlbHNlIGlmIChjID09PSAnfScpIHsKICAgICAgICByZXR1cm4gaTsKICAgICAgfQogICAgfQogIH0KCiAgcmV0dXJuIGk7Cn0KCmZ1bmN0aW9uIHJlbW92ZUN1c3RvbUFzc2lnbnMoY3NzVGV4dCkgewogIHZhciBmaW5hbCA9ICcnOwogIHZhciBvZmZzZXQgPSAwOwoKICB3aGlsZSAodHJ1ZSkgewogICAgdmFyIGFzc2lnblBvcyA9IGZpbmRSZWdleChWQVJfQVNTSUdOX1NUQVJULCBjc3NUZXh0LCBvZmZzZXQpOwogICAgdmFyIHN0YXJ0ID0gYXNzaWduUG9zID8gYXNzaWduUG9zLnN0YXJ0IDogY3NzVGV4dC5sZW5ndGg7CiAgICBmaW5hbCArPSBjc3NUZXh0LnN1YnN0cmluZyhvZmZzZXQsIHN0YXJ0KTsKCiAgICBpZiAoYXNzaWduUG9zKSB7CiAgICAgIG9mZnNldCA9IGZpbmRFbmRWYWx1ZShjc3NUZXh0LCBzdGFydCk7CiAgICB9IGVsc2UgewogICAgICBicmVhazsKICAgIH0KICB9CgogIHJldHVybiBmaW5hbDsKfQoKZnVuY3Rpb24gY29tcGlsZVRlbXBsYXRlKGNzc1RleHQpIHsKICB2YXIgaW5kZXggPSAwOwogIGNzc1RleHQgPSBjc3NUZXh0LnJlcGxhY2UoQ09NTUVOVFMsICcnKTsKICBjc3NUZXh0ID0gcmVtb3ZlQ3VzdG9tQXNzaWducyhjc3NUZXh0KS5yZXBsYWNlKFRSQUlMSU5HX0xJTkVTLCAnJyk7CiAgdmFyIHNlZ21lbnRzID0gW107CgogIHdoaWxlIChpbmRleCA8IGNzc1RleHQubGVuZ3RoKSB7CiAgICBpbmRleCA9IGNvbXBpbGVWYXIoY3NzVGV4dCwgc2VnbWVudHMsIGluZGV4KTsKICB9CgogIHJldHVybiBzZWdtZW50czsKfQoKZnVuY3Rpb24gcmVzb2x2ZVZhbHVlcyhzZWxlY3RvcnMpIHsKICB2YXIgcHJvcHMgPSB7fTsKICBzZWxlY3RvcnMuZm9yRWFjaChmdW5jdGlvbiAoc2VsZWN0b3IpIHsKICAgIHNlbGVjdG9yLmRlY2xhcmF0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uIChkZWMpIHsKICAgICAgcHJvcHNbZGVjLnByb3BdID0gZGVjLnZhbHVlOwogICAgfSk7CiAgfSk7CiAgdmFyIHByb3BzVmFsdWVzID0ge307CiAgdmFyIGVudHJpZXMgPSBPYmplY3QuZW50cmllcyhwcm9wcyk7CgogIHZhciBfbG9vcF8xID0gZnVuY3Rpb24gKGkpIHsKICAgIHZhciBkaXJ0eSA9IGZhbHNlOwogICAgZW50cmllcy5mb3JFYWNoKGZ1bmN0aW9uIChfYSkgewogICAgICB2YXIga2V5ID0gX2FbMF0sCiAgICAgICAgICB2YWx1ZSA9IF9hWzFdOwogICAgICB2YXIgcHJvcFZhbHVlID0gZXhlY3V0ZVRlbXBsYXRlKHZhbHVlLCBwcm9wc1ZhbHVlcyk7CgogICAgICBpZiAocHJvcFZhbHVlICE9PSBwcm9wc1ZhbHVlc1trZXldKSB7CiAgICAgICAgcHJvcHNWYWx1ZXNba2V5XSA9IHByb3BWYWx1ZTsKICAgICAgICBkaXJ0eSA9IHRydWU7CiAgICAgIH0KICAgIH0pOwoKICAgIGlmICghZGlydHkpIHsKICAgICAgcmV0dXJuICJicmVhayI7CiAgICB9CiAgfTsKCiAgZm9yICh2YXIgaSA9IDA7IGkgPCAxMDsgaSsrKSB7CiAgICB2YXIgc3RhdGVfMSA9IF9sb29wXzEoKTsKCiAgICBpZiAoc3RhdGVfMSA9PT0gImJyZWFrIikgYnJlYWs7CiAgfQoKICByZXR1cm4gcHJvcHNWYWx1ZXM7Cn0KCmZ1bmN0aW9uIGdldFNlbGVjdG9ycyhyb290LCBpbmRleCkgewogIGlmIChpbmRleCA9PT0gdm9pZCAwKSB7CiAgICBpbmRleCA9IDA7CiAgfQoKICBpZiAoIXJvb3QucnVsZXMpIHsKICAgIHJldHVybiBbXTsKICB9CgogIHZhciBzZWxlY3RvcnMgPSBbXTsKICByb290LnJ1bGVzLmZpbHRlcihmdW5jdGlvbiAocnVsZSkgewogICAgcmV0dXJuIHJ1bGUudHlwZSA9PT0gdHlwZXMuU1RZTEVfUlVMRTsKICB9KS5mb3JFYWNoKGZ1bmN0aW9uIChydWxlKSB7CiAgICB2YXIgZGVjbGFyYXRpb25zID0gZ2V0RGVjbGFyYXRpb25zKHJ1bGUuY3NzVGV4dCk7CgogICAgaWYgKGRlY2xhcmF0aW9ucy5sZW5ndGggPiAwKSB7CiAgICAgIHJ1bGUucGFyc2VkU2VsZWN0b3Iuc3BsaXQoJywnKS5mb3JFYWNoKGZ1bmN0aW9uIChzZWxlY3RvcikgewogICAgICAgIHNlbGVjdG9yID0gc2VsZWN0b3IudHJpbSgpOwogICAgICAgIHNlbGVjdG9ycy5wdXNoKHsKICAgICAgICAgIHNlbGVjdG9yOiBzZWxlY3RvciwKICAgICAgICAgIGRlY2xhcmF0aW9uczogZGVjbGFyYXRpb25zLAogICAgICAgICAgc3BlY2lmaWNpdHk6IGNvbXB1dGVTcGVjaWZpY2l0eSgpLAogICAgICAgICAgbnU6IGluZGV4CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfQoKICAgIGluZGV4Kys7CiAgfSk7CiAgcmV0dXJuIHNlbGVjdG9yczsKfQoKZnVuY3Rpb24gY29tcHV0ZVNwZWNpZmljaXR5KF9zZWxlY3RvcikgewogIHJldHVybiAxOwp9Cgp2YXIgSU1QT1JUQU5UID0gJyFpbXBvcnRhbnQnOwp2YXIgRklORF9ERUNMQVJBVElPTlMgPSAvKD86XnxbO1xze11ccyopKC0tW1x3LV0qPylccyo6XHMqKD86KCg/OicoPzpcXCd8LikqPyd8Iig/OlxcInwuKSo/InxcKFteKV0qP1wpfFtefTt7XSkrKXxceyhbXn1dKilcfSg/Oig/PVs7XHN9XSl8JCkpL2dtOwoKZnVuY3Rpb24gZ2V0RGVjbGFyYXRpb25zKGNzc1RleHQpIHsKICB2YXIgZGVjbGFyYXRpb25zID0gW107CiAgdmFyIHhBcnJheTsKCiAgd2hpbGUgKHhBcnJheSA9IEZJTkRfREVDTEFSQVRJT05TLmV4ZWMoY3NzVGV4dC50cmltKCkpKSB7CiAgICB2YXIgX2EgPSBub3JtYWxpemVWYWx1ZSh4QXJyYXlbMl0pLAogICAgICAgIHZhbHVlID0gX2EudmFsdWUsCiAgICAgICAgaW1wb3J0YW50ID0gX2EuaW1wb3J0YW50OwoKICAgIGRlY2xhcmF0aW9ucy5wdXNoKHsKICAgICAgcHJvcDogeEFycmF5WzFdLnRyaW0oKSwKICAgICAgdmFsdWU6IGNvbXBpbGVUZW1wbGF0ZSh2YWx1ZSksCiAgICAgIGltcG9ydGFudDogaW1wb3J0YW50CiAgICB9KTsKICB9CgogIHJldHVybiBkZWNsYXJhdGlvbnM7Cn0KCmZ1bmN0aW9uIG5vcm1hbGl6ZVZhbHVlKHZhbHVlKSB7CiAgdmFyIHJlZ2V4ID0gL1xzKy9naW07CiAgdmFsdWUgPSB2YWx1ZS5yZXBsYWNlKHJlZ2V4LCAnICcpLnRyaW0oKTsKICB2YXIgaW1wb3J0YW50ID0gdmFsdWUuZW5kc1dpdGgoSU1QT1JUQU5UKTsKCiAgaWYgKGltcG9ydGFudCkgewogICAgdmFsdWUgPSB2YWx1ZS5zdWJzdHIoMCwgdmFsdWUubGVuZ3RoIC0gSU1QT1JUQU5ULmxlbmd0aCkudHJpbSgpOwogIH0KCiAgcmV0dXJuIHsKICAgIHZhbHVlOiB2YWx1ZSwKICAgIGltcG9ydGFudDogaW1wb3J0YW50CiAgfTsKfQoKZnVuY3Rpb24gZ2V0QWN0aXZlU2VsZWN0b3JzKGhvc3RFbCwgaG9zdFNjb3BlTWFwLCBnbG9iYWxTY29wZXMpIHsKICAvLyBjb21wdXRlcyB0aGUgY3NzIHNjb3BlcyB0aGF0IG1pZ2h0IGFmZmVjdCB0aGlzIHBhcnRpY3VsYXIgZWxlbWVudAogIC8vIGF2b2lkaW5nIHVzaW5nIHNwcmVhZCBhcnJheXMgdG8gYXZvaWQgdHMgaGVscGVyIGZucyB3aGVuIGluIGVzNQogIHZhciBzY29wZXMgPSBbXTsKICB2YXIgc2NvcGVzRm9yRWxlbWVudCA9IGdldFNjb3Blc0ZvckVsZW1lbnQoaG9zdFNjb3BlTWFwLCBob3N0RWwpOyAvLyBnbG9iYWxTY29wZXMgYXJlIGFsd2F5cyB0b29rIGludG8gYWNjb3VudAoKICBnbG9iYWxTY29wZXMuZm9yRWFjaChmdW5jdGlvbiAocykgewogICAgcmV0dXJuIHNjb3Blcy5wdXNoKHMpOwogIH0pOyAvLyB0aGUgcGFyZW50IHNjb3BlcyBhcmUgY29tcHV0ZWQgYnkgd2Fsa2luZyBwYXJlbnQgZG9tIHVudGlsIDxodG1sPiBpcyByZWFjaGVkCgogIHNjb3Blc0ZvckVsZW1lbnQuZm9yRWFjaChmdW5jdGlvbiAocykgewogICAgcmV0dXJuIHNjb3Blcy5wdXNoKHMpOwogIH0pOyAvLyBlYWNoIHNjb3BlIG1pZ2h0IGhhdmUgYW4gYXJyYXkgb2YgYXNzb2NpYXRlZCBzZWxlY3RvcnMKICAvLyBsZXQncyBmbGF0dGVuIHRoZSBjb21wbGV0ZSBhcnJheSBvZiBzZWxlY3RvcnMgZnJvbSBhbGwgdGhlIHNjb3BlcwoKICB2YXIgc2VsZWN0b3JTZXQgPSBnZXRTZWxlY3RvcnNGb3JTY29wZXMoc2NvcGVzKTsgLy8gd2UgZmlsdGVyIHRvIG9ubHkgdGhlIHNlbGVjdG9ycyB0aGF0IG1hdGNoZXMgdGhlIGhvc3RFbAoKICB2YXIgYWN0aXZlU2VsZWN0b3JzID0gc2VsZWN0b3JTZXQuZmlsdGVyKGZ1bmN0aW9uIChzZWxlY3RvcikgewogICAgcmV0dXJuIG1hdGNoZXMoaG9zdEVsLCBzZWxlY3Rvci5zZWxlY3Rvcik7CiAgfSk7IC8vIHNvcnQgc2VsZWN0b3JzIGJ5IHNwZWNpZml0eQoKICByZXR1cm4gc29ydFNlbGVjdG9ycyhhY3RpdmVTZWxlY3RvcnMpOwp9CgpmdW5jdGlvbiBnZXRTY29wZXNGb3JFbGVtZW50KGhvc3RUZW1wbGF0ZU1hcCwgbm9kZSkgewogIHZhciBzY29wZXMgPSBbXTsKCiAgd2hpbGUgKG5vZGUpIHsKICAgIHZhciBzY29wZSA9IGhvc3RUZW1wbGF0ZU1hcC5nZXQobm9kZSk7CgogICAgaWYgKHNjb3BlKSB7CiAgICAgIHNjb3Blcy5wdXNoKHNjb3BlKTsKICAgIH0KCiAgICBub2RlID0gbm9kZS5wYXJlbnRFbGVtZW50OwogIH0KCiAgcmV0dXJuIHNjb3BlczsKfQoKZnVuY3Rpb24gZ2V0U2VsZWN0b3JzRm9yU2NvcGVzKHNjb3BlcykgewogIHZhciBzZWxlY3RvcnMgPSBbXTsKICBzY29wZXMuZm9yRWFjaChmdW5jdGlvbiAoc2NvcGUpIHsKICAgIHNlbGVjdG9ycy5wdXNoLmFwcGx5KHNlbGVjdG9ycywgc2NvcGUuc2VsZWN0b3JzKTsKICB9KTsKICByZXR1cm4gc2VsZWN0b3JzOwp9CgpmdW5jdGlvbiBzb3J0U2VsZWN0b3JzKHNlbGVjdG9ycykgewogIHNlbGVjdG9ycy5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7CiAgICBpZiAoYS5zcGVjaWZpY2l0eSA9PT0gYi5zcGVjaWZpY2l0eSkgewogICAgICByZXR1cm4gYS5udSAtIGIubnU7CiAgICB9CgogICAgcmV0dXJuIGEuc3BlY2lmaWNpdHkgLSBiLnNwZWNpZmljaXR5OwogIH0pOwogIHJldHVybiBzZWxlY3RvcnM7Cn0KCmZ1bmN0aW9uIG1hdGNoZXMoZWwsIHNlbGVjdG9yKSB7CiAgcmV0dXJuIHNlbGVjdG9yID09PSAnOnJvb3QnIHx8IHNlbGVjdG9yID09PSAnaHRtbCcgfHwgZWwubWF0Y2hlcyhzZWxlY3Rvcik7Cn0KCmZ1bmN0aW9uIHBhcnNlQ1NTKG9yaWdpbmFsKSB7CiAgdmFyIGFzdCA9IHBhcnNlKG9yaWdpbmFsKTsKICB2YXIgdGVtcGxhdGUgPSBjb21waWxlVGVtcGxhdGUob3JpZ2luYWwpOwogIHZhciBzZWxlY3RvcnMgPSBnZXRTZWxlY3RvcnMoYXN0KTsKICByZXR1cm4gewogICAgb3JpZ2luYWw6IG9yaWdpbmFsLAogICAgdGVtcGxhdGU6IHRlbXBsYXRlLAogICAgc2VsZWN0b3JzOiBzZWxlY3RvcnMsCiAgICB1c2VzQ3NzVmFyczogdGVtcGxhdGUubGVuZ3RoID4gMQogIH07Cn0KCmZ1bmN0aW9uIGFkZEdsb2JhbFN0eWxlKGdsb2JhbFNjb3Blcywgc3R5bGVFbCkgewogIGlmIChnbG9iYWxTY29wZXMuc29tZShmdW5jdGlvbiAoY3NzKSB7CiAgICByZXR1cm4gY3NzLnN0eWxlRWwgPT09IHN0eWxlRWw7CiAgfSkpIHsKICAgIHJldHVybiBmYWxzZTsKICB9CgogIHZhciBjc3MgPSBwYXJzZUNTUyhzdHlsZUVsLnRleHRDb250ZW50KTsKICBjc3Muc3R5bGVFbCA9IHN0eWxlRWw7CiAgZ2xvYmFsU2NvcGVzLnB1c2goY3NzKTsKICByZXR1cm4gdHJ1ZTsKfQoKZnVuY3Rpb24gdXBkYXRlR2xvYmFsU2NvcGVzKHNjb3BlcykgewogIHZhciBzZWxlY3RvcnMgPSBnZXRTZWxlY3RvcnNGb3JTY29wZXMoc2NvcGVzKTsKICB2YXIgcHJvcHMgPSByZXNvbHZlVmFsdWVzKHNlbGVjdG9ycyk7CiAgc2NvcGVzLmZvckVhY2goZnVuY3Rpb24gKHNjb3BlKSB7CiAgICBpZiAoc2NvcGUudXNlc0Nzc1ZhcnMpIHsKICAgICAgc2NvcGUuc3R5bGVFbC50ZXh0Q29udGVudCA9IGV4ZWN1dGVUZW1wbGF0ZShzY29wZS50ZW1wbGF0ZSwgcHJvcHMpOwogICAgfQogIH0pOwp9CgpmdW5jdGlvbiByZVNjb3BlKHNjb3BlLCBzY29wZUlkKSB7CiAgdmFyIHRlbXBsYXRlID0gc2NvcGUudGVtcGxhdGUubWFwKGZ1bmN0aW9uIChzZWdtZW50KSB7CiAgICByZXR1cm4gdHlwZW9mIHNlZ21lbnQgPT09ICdzdHJpbmcnID8gcmVwbGFjZVNjb3BlKHNlZ21lbnQsIHNjb3BlLnNjb3BlSWQsIHNjb3BlSWQpIDogc2VnbWVudDsKICB9KTsKICB2YXIgc2VsZWN0b3JzID0gc2NvcGUuc2VsZWN0b3JzLm1hcChmdW5jdGlvbiAoc2VsKSB7CiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBzZWwpLCB7CiAgICAgIHNlbGVjdG9yOiByZXBsYWNlU2NvcGUoc2VsLnNlbGVjdG9yLCBzY29wZS5zY29wZUlkLCBzY29wZUlkKQogICAgfSk7CiAgfSk7CiAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgc2NvcGUpLCB7CiAgICB0ZW1wbGF0ZTogdGVtcGxhdGUsCiAgICBzZWxlY3RvcnM6IHNlbGVjdG9ycywKICAgIHNjb3BlSWQ6IHNjb3BlSWQKICB9KTsKfQoKZnVuY3Rpb24gcmVwbGFjZVNjb3BlKG9yaWdpbmFsLCBvbGRTY29wZUlkLCBuZXdTY29wZUlkKSB7CiAgb3JpZ2luYWwgPSByZXBsYWNlQWxsKG9yaWdpbmFsLCAiXFwuIiArIG9sZFNjb3BlSWQsICIuIiArIG5ld1Njb3BlSWQpOwogIHJldHVybiBvcmlnaW5hbDsKfQoKZnVuY3Rpb24gcmVwbGFjZUFsbChpbnB1dCwgZmluZCwgcmVwbGFjZSkgewogIHJldHVybiBpbnB1dC5yZXBsYWNlKG5ldyBSZWdFeHAoZmluZCwgJ2cnKSwgcmVwbGFjZSk7Cn0KCmZ1bmN0aW9uIGxvYWREb2N1bWVudChkb2MsIGdsb2JhbFNjb3BlcykgewogIGxvYWREb2N1bWVudFN0eWxlcyhkb2MsIGdsb2JhbFNjb3Blcyk7CiAgcmV0dXJuIGxvYWREb2N1bWVudExpbmtzKGRvYywgZ2xvYmFsU2NvcGVzKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgIHVwZGF0ZUdsb2JhbFNjb3BlcyhnbG9iYWxTY29wZXMpOwogIH0pOwp9CgpmdW5jdGlvbiBzdGFydFdhdGNoZXIoZG9jLCBnbG9iYWxTY29wZXMpIHsKICB2YXIgbXV0YXRpb24gPSBuZXcgTXV0YXRpb25PYnNlcnZlcihmdW5jdGlvbiAoKSB7CiAgICBpZiAobG9hZERvY3VtZW50U3R5bGVzKGRvYywgZ2xvYmFsU2NvcGVzKSkgewogICAgICB1cGRhdGVHbG9iYWxTY29wZXMoZ2xvYmFsU2NvcGVzKTsKICAgIH0KICB9KTsKICBtdXRhdGlvbi5vYnNlcnZlKGRvY3VtZW50LmhlYWQsIHsKICAgIGNoaWxkTGlzdDogdHJ1ZQogIH0pOwp9CgpmdW5jdGlvbiBsb2FkRG9jdW1lbnRMaW5rcyhkb2MsIGdsb2JhbFNjb3BlcykgewogIHZhciBwcm9taXNlcyA9IFtdOwogIHZhciBsaW5rRWxtcyA9IGRvYy5xdWVyeVNlbGVjdG9yQWxsKCdsaW5rW3JlbD0ic3R5bGVzaGVldCJdW2hyZWZdOm5vdChbZGF0YS1uby1zaGltXSknKTsKCiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaW5rRWxtcy5sZW5ndGg7IGkrKykgewogICAgcHJvbWlzZXMucHVzaChhZGRHbG9iYWxMaW5rKGRvYywgZ2xvYmFsU2NvcGVzLCBsaW5rRWxtc1tpXSkpOwogIH0KCiAgcmV0dXJuIFByb21pc2UuYWxsKHByb21pc2VzKTsKfQoKZnVuY3Rpb24gbG9hZERvY3VtZW50U3R5bGVzKGRvYywgZ2xvYmFsU2NvcGVzKSB7CiAgdmFyIHN0eWxlRWxtcyA9IEFycmF5LmZyb20oZG9jLnF1ZXJ5U2VsZWN0b3JBbGwoJ3N0eWxlOm5vdChbZGF0YS1zdHlsZXNdKTpub3QoW2RhdGEtbm8tc2hpbV0pJykpOwogIHJldHVybiBzdHlsZUVsbXMubWFwKGZ1bmN0aW9uIChzdHlsZSkgewogICAgcmV0dXJuIGFkZEdsb2JhbFN0eWxlKGdsb2JhbFNjb3Blcywgc3R5bGUpOwogIH0pLnNvbWUoQm9vbGVhbik7Cn0KCmZ1bmN0aW9uIGFkZEdsb2JhbExpbmsoZG9jLCBnbG9iYWxTY29wZXMsIGxpbmtFbG0pIHsKICB2YXIgdXJsID0gbGlua0VsbS5ocmVmOwogIHJldHVybiBmZXRjaCh1cmwpLnRoZW4oZnVuY3Rpb24gKHJzcCkgewogICAgcmV0dXJuIHJzcC50ZXh0KCk7CiAgfSkudGhlbihmdW5jdGlvbiAodGV4dCkgewogICAgaWYgKGhhc0Nzc1ZhcmlhYmxlcyh0ZXh0KSAmJiBsaW5rRWxtLnBhcmVudE5vZGUpIHsKICAgICAgaWYgKGhhc1JlbGF0aXZlVXJscyh0ZXh0KSkgewogICAgICAgIHRleHQgPSBmaXhSZWxhdGl2ZVVybHModGV4dCwgdXJsKTsKICAgICAgfQoKICAgICAgdmFyIHN0eWxlRWwgPSBkb2MuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTsKICAgICAgc3R5bGVFbC5zZXRBdHRyaWJ1dGUoJ2RhdGEtc3R5bGVzJywgJycpOwogICAgICBzdHlsZUVsLnRleHRDb250ZW50ID0gdGV4dDsKICAgICAgYWRkR2xvYmFsU3R5bGUoZ2xvYmFsU2NvcGVzLCBzdHlsZUVsKTsKICAgICAgbGlua0VsbS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShzdHlsZUVsLCBsaW5rRWxtKTsKICAgICAgbGlua0VsbS5yZW1vdmUoKTsKICAgIH0KICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICBjb25zb2xlLmVycm9yKGVycik7CiAgfSk7Cn0gLy8gVGhpcyByZWdleHAgdHJpZXMgdG8gZGV0ZXJtaW5lIHdoZW4gYSB2YXJpYWJsZSBpcyBkZWNsYXJlZCwgZm9yIGV4YW1wbGU6Ci8vCi8vIC5teS1lbCB7IC0taGlnaGxpZ2h0LWNvbG9yOiBncmVlbjsgfQovLwovLyBidXQgd2UgZG9uJ3Qgd2FudCB0byB0cmlnZ2VyIHdoZW4gYSBjbGFzc25hbWUgdXNlcyAiLS0iIG9yIGEgcHNldWRvLWNsYXNzIGlzCi8vIHVzZWQuIFdlIGFzc3VtZSB0aGF0IHRoZSBvbmx5IGNoYXJhY3RlcnMgdGhhdCBjYW4gcHJlY2VlZCBhIHZhcmlhYmxlCi8vIGRlY2xhcmF0aW9uIGFyZSAieyIsIGZyb20gYW4gb3BlbmluZyBibG9jaywgIjsiIGZyb20gYSBwcmVjZWVkaW5nIHJ1bGUsIG9yIGEKLy8gc3BhY2UuIFRoaXMgcHJldmVudHMgdGhlIHJlZ2V4cCBmcm9tIG1hdGNoaW5nIGEgd29yZCBpbiBhIHNlbGVjdG9yLCBzaW5jZQovLyB0aGV5IHdvdWxkIG5lZWQgdG8gc3RhcnQgd2l0aCBhICIuIiBvciAiIyIuIChXZSBhc3N1bWUgZWxlbWVudCBuYW1lcyBkb24ndAovLyBzdGFydCB3aXRoICItLSIpLgoKCnZhciBDU1NfVkFSSUFCTEVfUkVHRVhQID0gL1tcczt7XS0tWy1hLXpBLVowLTldK1xzKjovbTsKCmZ1bmN0aW9uIGhhc0Nzc1ZhcmlhYmxlcyhjc3MpIHsKICByZXR1cm4gY3NzLmluZGV4T2YoJ3ZhcignKSA+IC0xIHx8IENTU19WQVJJQUJMRV9SRUdFWFAudGVzdChjc3MpOwp9IC8vIFRoaXMgcmVnZXhwIGZpbmQgYWxsIHVybCgpIHVzYWdlcyB3aXRoIHJlbGF0aXZlIHVybHMKCgp2YXIgQ1NTX1VSTF9SRUdFWFAgPSAvdXJsW1xzXSpcKFtcc10qWyciXT8oPyEoPzpodHRwcz98ZGF0YSlcOnxcLykoW15cJ1wiXCldKilbXHNdKlsnIl0/XClbXHNdKi9naW07CgpmdW5jdGlvbiBoYXNSZWxhdGl2ZVVybHMoY3NzKSB7CiAgQ1NTX1VSTF9SRUdFWFAubGFzdEluZGV4ID0gMDsKICByZXR1cm4gQ1NTX1VSTF9SRUdFWFAudGVzdChjc3MpOwp9CgpmdW5jdGlvbiBmaXhSZWxhdGl2ZVVybHMoY3NzLCBvcmlnaW5hbFVybCkgewogIC8vIGdldCB0aGUgYmFzZXBhdGggZnJvbSB0aGUgb3JpZ2luYWwgaW1wb3J0IHVybAogIHZhciBiYXNlUGF0aCA9IG9yaWdpbmFsVXJsLnJlcGxhY2UoL1teL10qJC8sICcnKTsgLy8gcmVwbGFjZSB0aGUgcmVsYXRpdmUgdXJsLCB3aXRoIHRoZSBuZXcgcmVsYXRpdmUgdXJsCgogIHJldHVybiBjc3MucmVwbGFjZShDU1NfVVJMX1JFR0VYUCwgZnVuY3Rpb24gKGZ1bGxNYXRjaCwgdXJsKSB7CiAgICAvLyByaGUgbmV3IHJlbGF0aXZlIHBhdGggaXMgdGhlIGJhc2UgcGF0aCArIHVyaQogICAgLy8gVE9ETzogbm9ybWFsaXplIHJlbGF0aXZlIFVSTAogICAgdmFyIHJlbGF0aXZlVXJsID0gYmFzZVBhdGggKyB1cmw7CiAgICByZXR1cm4gZnVsbE1hdGNoLnJlcGxhY2UodXJsLCByZWxhdGl2ZVVybCk7CiAgfSk7Cn0KCnZhciBDdXN0b21TdHlsZSA9Ci8qKiBAY2xhc3MgKi8KZnVuY3Rpb24gKCkgewogIGZ1bmN0aW9uIEN1c3RvbVN0eWxlKHdpbiwgZG9jKSB7CiAgICB0aGlzLndpbiA9IHdpbjsKICAgIHRoaXMuZG9jID0gZG9jOwogICAgdGhpcy5jb3VudCA9IDA7CiAgICB0aGlzLmhvc3RTdHlsZU1hcCA9IG5ldyBXZWFrTWFwKCk7CiAgICB0aGlzLmhvc3RTY29wZU1hcCA9IG5ldyBXZWFrTWFwKCk7CiAgICB0aGlzLmdsb2JhbFNjb3BlcyA9IFtdOwogICAgdGhpcy5zY29wZXNNYXAgPSBuZXcgTWFwKCk7CiAgICB0aGlzLmRpZEluaXQgPSBmYWxzZTsKICB9CgogIEN1c3RvbVN0eWxlLnByb3RvdHlwZS5pbml0U2hpbSA9IGZ1bmN0aW9uICgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgaWYgKHRoaXMuZGlkSW5pdCkgewogICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7CiAgICB9IGVsc2UgewogICAgICB0aGlzLmRpZEluaXQgPSB0cnVlOwogICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICBfdGhpcy53aW4ucmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHN0YXJ0V2F0Y2hlcihfdGhpcy5kb2MsIF90aGlzLmdsb2JhbFNjb3Blcyk7CiAgICAgICAgICBsb2FkRG9jdW1lbnQoX3RoaXMuZG9jLCBfdGhpcy5nbG9iYWxTY29wZXMpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgICByZXR1cm4gcmVzb2x2ZSgpOwogICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfQogIH07CgogIEN1c3RvbVN0eWxlLnByb3RvdHlwZS5hZGRMaW5rID0gZnVuY3Rpb24gKGxpbmtFbCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICByZXR1cm4gYWRkR2xvYmFsTGluayh0aGlzLmRvYywgdGhpcy5nbG9iYWxTY29wZXMsIGxpbmtFbCkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgIF90aGlzLnVwZGF0ZUdsb2JhbCgpOwogICAgfSk7CiAgfTsKCiAgQ3VzdG9tU3R5bGUucHJvdG90eXBlLmFkZEdsb2JhbFN0eWxlID0gZnVuY3Rpb24gKHN0eWxlRWwpIHsKICAgIGlmIChhZGRHbG9iYWxTdHlsZSh0aGlzLmdsb2JhbFNjb3Blcywgc3R5bGVFbCkpIHsKICAgICAgdGhpcy51cGRhdGVHbG9iYWwoKTsKICAgIH0KICB9OwoKICBDdXN0b21TdHlsZS5wcm90b3R5cGUuY3JlYXRlSG9zdFN0eWxlID0gZnVuY3Rpb24gKGhvc3RFbCwgY3NzU2NvcGVJZCwgY3NzVGV4dCwgaXNTY29wZWQpIHsKICAgIGlmICh0aGlzLmhvc3RTY29wZU1hcC5oYXMoaG9zdEVsKSkgewogICAgICB0aHJvdyBuZXcgRXJyb3IoJ2hvc3Qgc3R5bGUgYWxyZWFkeSBjcmVhdGVkJyk7CiAgICB9CgogICAgdmFyIGJhc2VTY29wZSA9IHRoaXMucmVnaXN0ZXJIb3N0VGVtcGxhdGUoY3NzVGV4dCwgY3NzU2NvcGVJZCwgaXNTY29wZWQpOwogICAgdmFyIHN0eWxlRWwgPSB0aGlzLmRvYy5jcmVhdGVFbGVtZW50KCdzdHlsZScpOwogICAgc3R5bGVFbC5zZXRBdHRyaWJ1dGUoJ2RhdGEtbm8tc2hpbScsICcnKTsKCiAgICBpZiAoIWJhc2VTY29wZS51c2VzQ3NzVmFycykgewogICAgICAvLyBUaGlzIGNvbXBvbmVudCBkb2VzIG5vdCB1c2UgKHJlYWQpIGNzcyB2YXJpYWJsZXMKICAgICAgc3R5bGVFbC50ZXh0Q29udGVudCA9IGNzc1RleHQ7CiAgICB9IGVsc2UgaWYgKGlzU2NvcGVkKSB7CiAgICAgIC8vIFRoaXMgY29tcG9uZW50IGlzIGR5bmFtaWM6IHVzZXMgY3NzIHZhciBhbmQgaXMgc2NvcGVkCiAgICAgIHN0eWxlRWxbJ3Mtc2MnXSA9IGNzc1Njb3BlSWQgPSBiYXNlU2NvcGUuc2NvcGVJZCArICItIiArIHRoaXMuY291bnQ7CiAgICAgIHN0eWxlRWwudGV4dENvbnRlbnQgPSAnLypuZWVkcyB1cGRhdGUqLyc7CiAgICAgIHRoaXMuaG9zdFN0eWxlTWFwLnNldChob3N0RWwsIHN0eWxlRWwpOwogICAgICB0aGlzLmhvc3RTY29wZU1hcC5zZXQoaG9zdEVsLCByZVNjb3BlKGJhc2VTY29wZSwgY3NzU2NvcGVJZCkpOwogICAgICB0aGlzLmNvdW50Kys7CiAgICB9IGVsc2UgewogICAgICAvLyBUaGlzIGNvbXBvbmVudCB1c2VzIGNzcyB2YXJzLCBidXQgaXQncyBuby1lbmNhcHN1bGF0aW9uIChnbG9iYWwgc3RhdGljKQogICAgICBiYXNlU2NvcGUuc3R5bGVFbCA9IHN0eWxlRWw7CgogICAgICBpZiAoIWJhc2VTY29wZS51c2VzQ3NzVmFycykgewogICAgICAgIHN0eWxlRWwudGV4dENvbnRlbnQgPSBleGVjdXRlVGVtcGxhdGUoYmFzZVNjb3BlLnRlbXBsYXRlLCB7fSk7CiAgICAgIH0KCiAgICAgIHRoaXMuZ2xvYmFsU2NvcGVzLnB1c2goYmFzZVNjb3BlKTsKICAgICAgdGhpcy51cGRhdGVHbG9iYWwoKTsKICAgICAgdGhpcy5ob3N0U2NvcGVNYXAuc2V0KGhvc3RFbCwgYmFzZVNjb3BlKTsKICAgIH0KCiAgICByZXR1cm4gc3R5bGVFbDsKICB9OwoKICBDdXN0b21TdHlsZS5wcm90b3R5cGUucmVtb3ZlSG9zdCA9IGZ1bmN0aW9uIChob3N0RWwpIHsKICAgIHZhciBjc3MgPSB0aGlzLmhvc3RTdHlsZU1hcC5nZXQoaG9zdEVsKTsKCiAgICBpZiAoY3NzKSB7CiAgICAgIGNzcy5yZW1vdmUoKTsKICAgIH0KCiAgICB0aGlzLmhvc3RTdHlsZU1hcC5kZWxldGUoaG9zdEVsKTsKICAgIHRoaXMuaG9zdFNjb3BlTWFwLmRlbGV0ZShob3N0RWwpOwogIH07CgogIEN1c3RvbVN0eWxlLnByb3RvdHlwZS51cGRhdGVIb3N0ID0gZnVuY3Rpb24gKGhvc3RFbCkgewogICAgdmFyIHNjb3BlID0gdGhpcy5ob3N0U2NvcGVNYXAuZ2V0KGhvc3RFbCk7CgogICAgaWYgKHNjb3BlICYmIHNjb3BlLnVzZXNDc3NWYXJzICYmIHNjb3BlLmlzU2NvcGVkKSB7CiAgICAgIHZhciBzdHlsZUVsID0gdGhpcy5ob3N0U3R5bGVNYXAuZ2V0KGhvc3RFbCk7CgogICAgICBpZiAoc3R5bGVFbCkgewogICAgICAgIHZhciBzZWxlY3RvcnMgPSBnZXRBY3RpdmVTZWxlY3RvcnMoaG9zdEVsLCB0aGlzLmhvc3RTY29wZU1hcCwgdGhpcy5nbG9iYWxTY29wZXMpOwogICAgICAgIHZhciBwcm9wcyA9IHJlc29sdmVWYWx1ZXMoc2VsZWN0b3JzKTsKICAgICAgICBzdHlsZUVsLnRleHRDb250ZW50ID0gZXhlY3V0ZVRlbXBsYXRlKHNjb3BlLnRlbXBsYXRlLCBwcm9wcyk7CiAgICAgIH0KICAgIH0KICB9OwoKICBDdXN0b21TdHlsZS5wcm90b3R5cGUudXBkYXRlR2xvYmFsID0gZnVuY3Rpb24gKCkgewogICAgdXBkYXRlR2xvYmFsU2NvcGVzKHRoaXMuZ2xvYmFsU2NvcGVzKTsKICB9OwoKICBDdXN0b21TdHlsZS5wcm90b3R5cGUucmVnaXN0ZXJIb3N0VGVtcGxhdGUgPSBmdW5jdGlvbiAoY3NzVGV4dCwgc2NvcGVJZCwgaXNTY29wZWQpIHsKICAgIHZhciBzY29wZSA9IHRoaXMuc2NvcGVzTWFwLmdldChzY29wZUlkKTsKCiAgICBpZiAoIXNjb3BlKSB7CiAgICAgIHNjb3BlID0gcGFyc2VDU1MoY3NzVGV4dCk7CiAgICAgIHNjb3BlLnNjb3BlSWQgPSBzY29wZUlkOwogICAgICBzY29wZS5pc1Njb3BlZCA9IGlzU2NvcGVkOwogICAgICB0aGlzLnNjb3Blc01hcC5zZXQoc2NvcGVJZCwgc2NvcGUpOwogICAgfQoKICAgIHJldHVybiBzY29wZTsKICB9OwoKICByZXR1cm4gQ3VzdG9tU3R5bGU7Cn0oKTsKCnZhciB3aW4gPSB3aW5kb3c7CgpmdW5jdGlvbiBuZWVkc1NoaW0oKSB7CiAgcmV0dXJuICEod2luLkNTUyAmJiB3aW4uQ1NTLnN1cHBvcnRzICYmIHdpbi5DU1Muc3VwcG9ydHMoJ2NvbG9yJywgJ3ZhcigtLWMpJykpOwp9CgppZiAoIXdpbi5fX3N0ZW5jaWxfY3Nzc2hpbSAmJiBuZWVkc1NoaW0oKSkgewogIHdpbi5fX3N0ZW5jaWxfY3Nzc2hpbSA9IG5ldyBDdXN0b21TdHlsZSh3aW4sIGRvY3VtZW50KTsKfQ=="},{"version":3,"sources":["/home/mary/Desktop/web components/vue-test/vue-button/dist/esm-es5/css-shim-6aaf713d-9b13816a.js"],"names":["StyleNode","start","end","previous","parent","rules","parsedCssText","cssText","atRule","type","keyframesName","selector","parsedSelector","parse","text","clean","parseCss","lex","replace","RX","comments","port","root","length","n","i","l","OPEN_BRACE","p","push","CLOSE_BRACE","node","t","substring","trim","ss","_expandUnicodeEscapes","multipleSpaces","lastIndexOf","s","indexOf","AT_START","MEDIA_START","types","MEDIA_RULE","match","keyframesRule","KEYFRAMES_RULE","split","pop","VAR_START","MIXIN_RULE","STYLE_RULE","r$","r","code","arguments","repeat","customProp","mixinProp","mixinApply","varApply","findRegex","regex","offset","VAR_USAGE_START","VAR_ASSIGN_START","COMMENTS","TRAILING_LINES","resolveVar","props","prop","fallback","executeTemplate","findVarEndIndex","count","c","parseVar","varPos","endVar","varContent","_a","propName","slice","join","undefined","compileVar","template","varMeta","compileTemplate","params","final","findEndValue","onStr","double","removeCustomAssigns","assignPos","index","segments","resolveValues","selectors","forEach","declarations","dec","value","propsValues","entries","Object","_loop_1","dirty","key","propValue","state_1","getSelectors","filter","rule","getDeclarations","specificity","computeSpecificity","nu","_selector","IMPORTANT","FIND_DECLARATIONS","xArray","exec","normalizeValue","important","endsWith","substr","getActiveSelectors","hostEl","hostScopeMap","globalScopes","scopes","scopesForElement","getScopesForElement","selectorSet","getSelectorsForScopes","activeSelectors","matches","sortSelectors","hostTemplateMap","scope","get","parentElement","apply","sort","a","b","el","parseCSS","original","ast","usesCssVars","addGlobalStyle","styleEl","some","css","textContent","updateGlobalScopes","reScope","scopeId","map","segment","replaceScope","sel","assign","oldScopeId","newScopeId","replaceAll","input","find","RegExp","loadDocument","doc","loadDocumentStyles","loadDocumentLinks","then","startWatcher","mutation","MutationObserver","observe","document","head","childList","promises","linkElms","querySelectorAll","addGlobalLink","Promise","all","styleElms","Array","from","style","Boolean","linkElm","url","href","fetch","rsp","hasCssVariables","parentNode","hasRelativeUrls","fixRelativeUrls","createElement","setAttribute","insertBefore","remove","catch","err","console","error","CSS_VARIABLE_REGEXP","test","CSS_URL_REGEXP","lastIndex","originalUrl","basePath","fullMatch","relativeUrl","CustomStyle","win","hostStyleMap","WeakMap","scopesMap","Map","didInit","prototype","initShim","_this","resolve","requestAnimationFrame","addLink","linkEl","updateGlobal","createHostStyle","cssScopeId","isScoped","has","Error","baseScope","registerHostTemplate","set","removeHost","delete","updateHost","window","needsShim","CSS","supports","__stencil_cssshim"],"mappings":"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","sourcesContent":["/*\nExtremely simple css parser. Intended to be not more than what we need\nand definitely not necessarily correct =).\n*/\n/** @unrestricted */\nvar StyleNode = /** @class */ (function () {\n    function StyleNode() {\n        this.start = 0;\n        this.end = 0;\n        this.previous = null;\n        this.parent = null;\n        this.rules = null;\n        this.parsedCssText = '';\n        this.cssText = '';\n        this.atRule = false;\n        this.type = 0;\n        this.keyframesName = '';\n        this.selector = '';\n        this.parsedSelector = '';\n    }\n    return StyleNode;\n}());\n// given a string of css, return a simple rule tree\n/**\n * @param {string} text\n * @return {StyleNode}\n */\nfunction parse(text) {\n    text = clean(text);\n    return parseCss(lex(text), text);\n}\n// remove stuff we don't care about that may hinder parsing\n/**\n * @param {string} cssText\n * @return {string}\n */\nfunction clean(cssText) {\n    return cssText.replace(RX.comments, '').replace(RX.port, '');\n}\n// super simple {...} lexer that returns a node tree\n/**\n * @param {string} text\n * @return {StyleNode}\n */\nfunction lex(text) {\n    var root = new StyleNode();\n    root['start'] = 0;\n    root['end'] = text.length;\n    var n = root;\n    for (var i = 0, l = text.length; i < l; i++) {\n        if (text[i] === OPEN_BRACE) {\n            if (!n['rules']) {\n                n['rules'] = [];\n            }\n            var p = n;\n            var previous = p['rules'][p['rules'].length - 1] || null;\n            n = new StyleNode();\n            n['start'] = i + 1;\n            n['parent'] = p;\n            n['previous'] = previous;\n            p['rules'].push(n);\n        }\n        else if (text[i] === CLOSE_BRACE) {\n            n['end'] = i + 1;\n            n = n['parent'] || root;\n        }\n    }\n    return root;\n}\n// add selectors/cssText to node tree\n/**\n * @param {StyleNode} node\n * @param {string} text\n * @return {StyleNode}\n */\nfunction parseCss(node, text) {\n    var t = text.substring(node['start'], node['end'] - 1);\n    node['parsedCssText'] = node['cssText'] = t.trim();\n    if (node.parent) {\n        var ss = node.previous ? node.previous['end'] : node.parent['start'];\n        t = text.substring(ss, node['start'] - 1);\n        t = _expandUnicodeEscapes(t);\n        t = t.replace(RX.multipleSpaces, ' ');\n        // TODO(sorvell): ad hoc; make selector include only after last ;\n        // helps with mixin syntax\n        t = t.substring(t.lastIndexOf(';') + 1);\n        var s = node['parsedSelector'] = node['selector'] = t.trim();\n        node['atRule'] = (s.indexOf(AT_START) === 0);\n        // note, support a subset of rule types...\n        if (node['atRule']) {\n            if (s.indexOf(MEDIA_START) === 0) {\n                node['type'] = types.MEDIA_RULE;\n            }\n            else if (s.match(RX.keyframesRule)) {\n                node['type'] = types.KEYFRAMES_RULE;\n                node['keyframesName'] = node['selector'].split(RX.multipleSpaces).pop();\n            }\n        }\n        else {\n            if (s.indexOf(VAR_START) === 0) {\n                node['type'] = types.MIXIN_RULE;\n            }\n            else {\n                node['type'] = types.STYLE_RULE;\n            }\n        }\n    }\n    var r$ = node['rules'];\n    if (r$) {\n        for (var i = 0, l = r$.length, r = void 0; (i < l) && (r = r$[i]); i++) {\n            parseCss(r, text);\n        }\n    }\n    return node;\n}\n/**\n * conversion of sort unicode escapes with spaces like `\\33 ` (and longer) into\n * expanded form that doesn't require trailing space `\\000033`\n * @param {string} s\n * @return {string}\n */\nfunction _expandUnicodeEscapes(s) {\n    return s.replace(/\\\\([0-9a-f]{1,6})\\s/gi, function () {\n        var code = arguments[1], repeat = 6 - code.length;\n        while (repeat--) {\n            code = '0' + code;\n        }\n        return '\\\\' + code;\n    });\n}\n/** @enum {number} */\nvar types = {\n    STYLE_RULE: 1,\n    KEYFRAMES_RULE: 7,\n    MEDIA_RULE: 4,\n    MIXIN_RULE: 1000\n};\nvar OPEN_BRACE = '{';\nvar CLOSE_BRACE = '}';\n// helper regexp's\nvar RX = {\n    comments: /\\/\\*[^*]*\\*+([^/*][^*]*\\*+)*\\//gim,\n    port: /@import[^;]*;/gim,\n    customProp: /(?:^[^;\\-\\s}]+)?--[^;{}]*?:[^{};]*?(?:[;\\n]|$)/gim,\n    mixinProp: /(?:^[^;\\-\\s}]+)?--[^;{}]*?:[^{};]*?{[^}]*?}(?:[;\\n]|$)?/gim,\n    mixinApply: /@apply\\s*\\(?[^);]*\\)?\\s*(?:[;\\n]|$)?/gim,\n    varApply: /[^;:]*?:[^;]*?var\\([^;]*\\)(?:[;\\n]|$)?/gim,\n    keyframesRule: /^@[^\\s]*keyframes/,\n    multipleSpaces: /\\s+/g\n};\nvar VAR_START = '--';\nvar MEDIA_START = '@media';\nvar AT_START = '@';\nfunction findRegex(regex, cssText, offset) {\n    regex['lastIndex'] = 0;\n    var r = cssText.substring(offset).match(regex);\n    if (r) {\n        var start = offset + r['index'];\n        return {\n            start: start,\n            end: start + r[0].length\n        };\n    }\n    return null;\n}\nvar VAR_USAGE_START = /\\bvar\\(/;\nvar VAR_ASSIGN_START = /\\B--[\\w-]+\\s*:/;\nvar COMMENTS = /\\/\\*[^*]*\\*+([^/*][^*]*\\*+)*\\//gim;\nvar TRAILING_LINES = /^[\\t ]+\\n/gm;\nfunction resolveVar(props, prop, fallback) {\n    if (props[prop]) {\n        return props[prop];\n    }\n    if (fallback) {\n        return executeTemplate(fallback, props);\n    }\n    return '';\n}\nfunction findVarEndIndex(cssText, offset) {\n    var count = 0;\n    var i = offset;\n    for (; i < cssText.length; i++) {\n        var c = cssText[i];\n        if (c === '(') {\n            count++;\n        }\n        else if (c === ')') {\n            count--;\n            if (count <= 0) {\n                return i + 1;\n            }\n        }\n    }\n    return i;\n}\nfunction parseVar(cssText, offset) {\n    var varPos = findRegex(VAR_USAGE_START, cssText, offset);\n    if (!varPos) {\n        return null;\n    }\n    var endVar = findVarEndIndex(cssText, varPos.start);\n    var varContent = cssText.substring(varPos.end, endVar - 1);\n    var _a = varContent.split(','), propName = _a[0], fallback = _a.slice(1);\n    return {\n        start: varPos.start,\n        end: endVar,\n        propName: propName.trim(),\n        fallback: fallback.length > 0 ? fallback.join(',').trim() : undefined\n    };\n}\nfunction compileVar(cssText, template, offset) {\n    var varMeta = parseVar(cssText, offset);\n    if (!varMeta) {\n        template.push(cssText.substring(offset, cssText.length));\n        return cssText.length;\n    }\n    var propName = varMeta.propName;\n    var fallback = varMeta.fallback != null ? compileTemplate(varMeta.fallback) : undefined;\n    template.push(cssText.substring(offset, varMeta.start), function (params) { return resolveVar(params, propName, fallback); });\n    return varMeta.end;\n}\nfunction executeTemplate(template, props) {\n    var final = '';\n    for (var i = 0; i < template.length; i++) {\n        var s = template[i];\n        final += (typeof s === 'string')\n            ? s\n            : s(props);\n    }\n    return final;\n}\nfunction findEndValue(cssText, offset) {\n    var onStr = false;\n    var double = false;\n    var i = offset;\n    for (; i < cssText.length; i++) {\n        var c = cssText[i];\n        if (onStr) {\n            if (double && c === '\"') {\n                onStr = false;\n            }\n            if (!double && c === '\\'') {\n                onStr = false;\n            }\n        }\n        else {\n            if (c === '\"') {\n                onStr = true;\n                double = true;\n            }\n            else if (c === '\\'') {\n                onStr = true;\n                double = false;\n            }\n            else if (c === ';') {\n                return i + 1;\n            }\n            else if (c === '}') {\n                return i;\n            }\n        }\n    }\n    return i;\n}\nfunction removeCustomAssigns(cssText) {\n    var final = '';\n    var offset = 0;\n    while (true) {\n        var assignPos = findRegex(VAR_ASSIGN_START, cssText, offset);\n        var start = assignPos ? assignPos.start : cssText.length;\n        final += cssText.substring(offset, start);\n        if (assignPos) {\n            offset = findEndValue(cssText, start);\n        }\n        else {\n            break;\n        }\n    }\n    return final;\n}\nfunction compileTemplate(cssText) {\n    var index = 0;\n    cssText = cssText.replace(COMMENTS, '');\n    cssText = removeCustomAssigns(cssText)\n        .replace(TRAILING_LINES, '');\n    var segments = [];\n    while (index < cssText.length) {\n        index = compileVar(cssText, segments, index);\n    }\n    return segments;\n}\nfunction resolveValues(selectors) {\n    var props = {};\n    selectors.forEach(function (selector) {\n        selector.declarations.forEach(function (dec) {\n            props[dec.prop] = dec.value;\n        });\n    });\n    var propsValues = {};\n    var entries = Object.entries(props);\n    var _loop_1 = function (i) {\n        var dirty = false;\n        entries.forEach(function (_a) {\n            var key = _a[0], value = _a[1];\n            var propValue = executeTemplate(value, propsValues);\n            if (propValue !== propsValues[key]) {\n                propsValues[key] = propValue;\n                dirty = true;\n            }\n        });\n        if (!dirty) {\n            return \"break\";\n        }\n    };\n    for (var i = 0; i < 10; i++) {\n        var state_1 = _loop_1();\n        if (state_1 === \"break\")\n            break;\n    }\n    return propsValues;\n}\nfunction getSelectors(root, index) {\n    if (index === void 0) {\n        index = 0;\n    }\n    if (!root.rules) {\n        return [];\n    }\n    var selectors = [];\n    root.rules\n        .filter(function (rule) { return rule.type === types.STYLE_RULE; })\n        .forEach(function (rule) {\n        var declarations = getDeclarations(rule.cssText);\n        if (declarations.length > 0) {\n            rule.parsedSelector.split(',').forEach(function (selector) {\n                selector = selector.trim();\n                selectors.push({\n                    selector: selector,\n                    declarations: declarations,\n                    specificity: computeSpecificity(),\n                    nu: index\n                });\n            });\n        }\n        index++;\n    });\n    return selectors;\n}\nfunction computeSpecificity(_selector) {\n    return 1;\n}\nvar IMPORTANT = '!important';\nvar FIND_DECLARATIONS = /(?:^|[;\\s{]\\s*)(--[\\w-]*?)\\s*:\\s*(?:((?:'(?:\\\\'|.)*?'|\"(?:\\\\\"|.)*?\"|\\([^)]*?\\)|[^};{])+)|\\{([^}]*)\\}(?:(?=[;\\s}])|$))/gm;\nfunction getDeclarations(cssText) {\n    var declarations = [];\n    var xArray;\n    while (xArray = FIND_DECLARATIONS.exec(cssText.trim())) {\n        var _a = normalizeValue(xArray[2]), value = _a.value, important = _a.important;\n        declarations.push({\n            prop: xArray[1].trim(),\n            value: compileTemplate(value),\n            important: important,\n        });\n    }\n    return declarations;\n}\nfunction normalizeValue(value) {\n    var regex = /\\s+/gim;\n    value = value.replace(regex, ' ').trim();\n    var important = value.endsWith(IMPORTANT);\n    if (important) {\n        value = value.substr(0, value.length - IMPORTANT.length).trim();\n    }\n    return {\n        value: value,\n        important: important\n    };\n}\nfunction getActiveSelectors(hostEl, hostScopeMap, globalScopes) {\n    // computes the css scopes that might affect this particular element\n    // avoiding using spread arrays to avoid ts helper fns when in es5\n    var scopes = [];\n    var scopesForElement = getScopesForElement(hostScopeMap, hostEl);\n    // globalScopes are always took into account\n    globalScopes.forEach(function (s) { return scopes.push(s); });\n    // the parent scopes are computed by walking parent dom until <html> is reached\n    scopesForElement.forEach(function (s) { return scopes.push(s); });\n    // each scope might have an array of associated selectors\n    // let's flatten the complete array of selectors from all the scopes\n    var selectorSet = getSelectorsForScopes(scopes);\n    // we filter to only the selectors that matches the hostEl\n    var activeSelectors = selectorSet.filter(function (selector) { return matches(hostEl, selector.selector); });\n    // sort selectors by specifity\n    return sortSelectors(activeSelectors);\n}\nfunction getScopesForElement(hostTemplateMap, node) {\n    var scopes = [];\n    while (node) {\n        var scope = hostTemplateMap.get(node);\n        if (scope) {\n            scopes.push(scope);\n        }\n        node = node.parentElement;\n    }\n    return scopes;\n}\nfunction getSelectorsForScopes(scopes) {\n    var selectors = [];\n    scopes.forEach(function (scope) {\n        selectors.push.apply(selectors, scope.selectors);\n    });\n    return selectors;\n}\nfunction sortSelectors(selectors) {\n    selectors.sort(function (a, b) {\n        if (a.specificity === b.specificity) {\n            return a.nu - b.nu;\n        }\n        return a.specificity - b.specificity;\n    });\n    return selectors;\n}\nfunction matches(el, selector) {\n    return selector === ':root' || selector === 'html' || el.matches(selector);\n}\nfunction parseCSS(original) {\n    var ast = parse(original);\n    var template = compileTemplate(original);\n    var selectors = getSelectors(ast);\n    return {\n        original: original,\n        template: template,\n        selectors: selectors,\n        usesCssVars: template.length > 1\n    };\n}\nfunction addGlobalStyle(globalScopes, styleEl) {\n    if (globalScopes.some(function (css) { return css.styleEl === styleEl; })) {\n        return false;\n    }\n    var css = parseCSS(styleEl.textContent);\n    css.styleEl = styleEl;\n    globalScopes.push(css);\n    return true;\n}\nfunction updateGlobalScopes(scopes) {\n    var selectors = getSelectorsForScopes(scopes);\n    var props = resolveValues(selectors);\n    scopes.forEach(function (scope) {\n        if (scope.usesCssVars) {\n            scope.styleEl.textContent = executeTemplate(scope.template, props);\n        }\n    });\n}\nfunction reScope(scope, scopeId) {\n    var template = scope.template.map(function (segment) {\n        return (typeof segment === 'string')\n            ? replaceScope(segment, scope.scopeId, scopeId)\n            : segment;\n    });\n    var selectors = scope.selectors.map(function (sel) {\n        return Object.assign(Object.assign({}, sel), { selector: replaceScope(sel.selector, scope.scopeId, scopeId) });\n    });\n    return Object.assign(Object.assign({}, scope), { template: template,\n        selectors: selectors,\n        scopeId: scopeId });\n}\nfunction replaceScope(original, oldScopeId, newScopeId) {\n    original = replaceAll(original, \"\\\\.\" + oldScopeId, \".\" + newScopeId);\n    return original;\n}\nfunction replaceAll(input, find, replace) {\n    return input.replace(new RegExp(find, 'g'), replace);\n}\nfunction loadDocument(doc, globalScopes) {\n    loadDocumentStyles(doc, globalScopes);\n    return loadDocumentLinks(doc, globalScopes).then(function () {\n        updateGlobalScopes(globalScopes);\n    });\n}\nfunction startWatcher(doc, globalScopes) {\n    var mutation = new MutationObserver(function () {\n        if (loadDocumentStyles(doc, globalScopes)) {\n            updateGlobalScopes(globalScopes);\n        }\n    });\n    mutation.observe(document.head, { childList: true });\n}\nfunction loadDocumentLinks(doc, globalScopes) {\n    var promises = [];\n    var linkElms = doc.querySelectorAll('link[rel=\"stylesheet\"][href]:not([data-no-shim])');\n    for (var i = 0; i < linkElms.length; i++) {\n        promises.push(addGlobalLink(doc, globalScopes, linkElms[i]));\n    }\n    return Promise.all(promises);\n}\nfunction loadDocumentStyles(doc, globalScopes) {\n    var styleElms = Array.from(doc.querySelectorAll('style:not([data-styles]):not([data-no-shim])'));\n    return styleElms\n        .map(function (style) { return addGlobalStyle(globalScopes, style); })\n        .some(Boolean);\n}\nfunction addGlobalLink(doc, globalScopes, linkElm) {\n    var url = linkElm.href;\n    return fetch(url).then(function (rsp) { return rsp.text(); }).then(function (text) {\n        if (hasCssVariables(text) && linkElm.parentNode) {\n            if (hasRelativeUrls(text)) {\n                text = fixRelativeUrls(text, url);\n            }\n            var styleEl = doc.createElement('style');\n            styleEl.setAttribute('data-styles', '');\n            styleEl.textContent = text;\n            addGlobalStyle(globalScopes, styleEl);\n            linkElm.parentNode.insertBefore(styleEl, linkElm);\n            linkElm.remove();\n        }\n    }).catch(function (err) {\n        console.error(err);\n    });\n}\n// This regexp tries to determine when a variable is declared, for example:\n//\n// .my-el { --highlight-color: green; }\n//\n// but we don't want to trigger when a classname uses \"--\" or a pseudo-class is\n// used. We assume that the only characters that can preceed a variable\n// declaration are \"{\", from an opening block, \";\" from a preceeding rule, or a\n// space. This prevents the regexp from matching a word in a selector, since\n// they would need to start with a \".\" or \"#\". (We assume element names don't\n// start with \"--\").\nvar CSS_VARIABLE_REGEXP = /[\\s;{]--[-a-zA-Z0-9]+\\s*:/m;\nfunction hasCssVariables(css) {\n    return css.indexOf('var(') > -1 || CSS_VARIABLE_REGEXP.test(css);\n}\n// This regexp find all url() usages with relative urls\nvar CSS_URL_REGEXP = /url[\\s]*\\([\\s]*['\"]?(?!(?:https?|data)\\:|\\/)([^\\'\\\"\\)]*)[\\s]*['\"]?\\)[\\s]*/gim;\nfunction hasRelativeUrls(css) {\n    CSS_URL_REGEXP.lastIndex = 0;\n    return CSS_URL_REGEXP.test(css);\n}\nfunction fixRelativeUrls(css, originalUrl) {\n    // get the basepath from the original import url\n    var basePath = originalUrl.replace(/[^/]*$/, '');\n    // replace the relative url, with the new relative url\n    return css.replace(CSS_URL_REGEXP, function (fullMatch, url) {\n        // rhe new relative path is the base path + uri\n        // TODO: normalize relative URL\n        var relativeUrl = basePath + url;\n        return fullMatch.replace(url, relativeUrl);\n    });\n}\nvar CustomStyle = /** @class */ (function () {\n    function CustomStyle(win, doc) {\n        this.win = win;\n        this.doc = doc;\n        this.count = 0;\n        this.hostStyleMap = new WeakMap();\n        this.hostScopeMap = new WeakMap();\n        this.globalScopes = [];\n        this.scopesMap = new Map();\n        this.didInit = false;\n    }\n    CustomStyle.prototype.initShim = function () {\n        var _this = this;\n        if (this.didInit) {\n            return Promise.resolve();\n        }\n        else {\n            this.didInit = true;\n            return new Promise(function (resolve) {\n                _this.win.requestAnimationFrame(function () {\n                    startWatcher(_this.doc, _this.globalScopes);\n                    loadDocument(_this.doc, _this.globalScopes).then(function () { return resolve(); });\n                });\n            });\n        }\n    };\n    CustomStyle.prototype.addLink = function (linkEl) {\n        var _this = this;\n        return addGlobalLink(this.doc, this.globalScopes, linkEl).then(function () {\n            _this.updateGlobal();\n        });\n    };\n    CustomStyle.prototype.addGlobalStyle = function (styleEl) {\n        if (addGlobalStyle(this.globalScopes, styleEl)) {\n            this.updateGlobal();\n        }\n    };\n    CustomStyle.prototype.createHostStyle = function (hostEl, cssScopeId, cssText, isScoped) {\n        if (this.hostScopeMap.has(hostEl)) {\n            throw new Error('host style already created');\n        }\n        var baseScope = this.registerHostTemplate(cssText, cssScopeId, isScoped);\n        var styleEl = this.doc.createElement('style');\n        styleEl.setAttribute('data-no-shim', '');\n        if (!baseScope.usesCssVars) {\n            // This component does not use (read) css variables\n            styleEl.textContent = cssText;\n        }\n        else if (isScoped) {\n            // This component is dynamic: uses css var and is scoped\n            styleEl['s-sc'] = cssScopeId = baseScope.scopeId + \"-\" + this.count;\n            styleEl.textContent = '/*needs update*/';\n            this.hostStyleMap.set(hostEl, styleEl);\n            this.hostScopeMap.set(hostEl, reScope(baseScope, cssScopeId));\n            this.count++;\n        }\n        else {\n            // This component uses css vars, but it's no-encapsulation (global static)\n            baseScope.styleEl = styleEl;\n            if (!baseScope.usesCssVars) {\n                styleEl.textContent = executeTemplate(baseScope.template, {});\n            }\n            this.globalScopes.push(baseScope);\n            this.updateGlobal();\n            this.hostScopeMap.set(hostEl, baseScope);\n        }\n        return styleEl;\n    };\n    CustomStyle.prototype.removeHost = function (hostEl) {\n        var css = this.hostStyleMap.get(hostEl);\n        if (css) {\n            css.remove();\n        }\n        this.hostStyleMap.delete(hostEl);\n        this.hostScopeMap.delete(hostEl);\n    };\n    CustomStyle.prototype.updateHost = function (hostEl) {\n        var scope = this.hostScopeMap.get(hostEl);\n        if (scope && scope.usesCssVars && scope.isScoped) {\n            var styleEl = this.hostStyleMap.get(hostEl);\n            if (styleEl) {\n                var selectors = getActiveSelectors(hostEl, this.hostScopeMap, this.globalScopes);\n                var props = resolveValues(selectors);\n                styleEl.textContent = executeTemplate(scope.template, props);\n            }\n        }\n    };\n    CustomStyle.prototype.updateGlobal = function () {\n        updateGlobalScopes(this.globalScopes);\n    };\n    CustomStyle.prototype.registerHostTemplate = function (cssText, scopeId, isScoped) {\n        var scope = this.scopesMap.get(scopeId);\n        if (!scope) {\n            scope = parseCSS(cssText);\n            scope.scopeId = scopeId;\n            scope.isScoped = isScoped;\n            this.scopesMap.set(scopeId, scope);\n        }\n        return scope;\n    };\n    return CustomStyle;\n}());\nvar win = window;\nfunction needsShim() {\n    return !(win.CSS && win.CSS.supports && win.CSS.supports('color', 'var(--c)'));\n}\nif (!win.__stencil_cssshim && needsShim()) {\n    win.__stencil_cssshim = new CustomStyle(win, document);\n}\n"]}]}